{"version":3,"sources":["history.js","actions/appointmentActions.js","actions/actionTypes.js","components/navbar.js","components/appointment.js","components/timeTable.js","utils/generateSchedule.js","pages/schedule.js","pages/signUpSignIn.js","pages/home.js","App.js","reducers/appointmentReducer.js","store.js","index.js"],"names":["createBrowserHistory","getAppointments","token","dispatch","headers","Authorization","concat","axios","post","then","response","data","appointments","console","log","type","catch","error","authenticateUser","authResponse","setCurrentAppointmentName","appointmentName","setCurrentAppointmentPhoneNumber","appointmentPhoneNumber","setAppointmentTimes","connect","state","guestMode","currentUserAuthenticated","props","react_default","a","createElement","lib","className","brand","left","node","Link","to","href","onClick","Appointment","_ref","appointmentTime","appointmentIndex","edited","editedClass","index","TimeTable","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","appointmentClick","bind","assertThisInitialized","event","parseInt","target","getAttribute","setCurrentAppointmentTime","setCurrentAppointmentIndex","setCurrentAppointmentEditedState","_this2","map","appt","i","src_components_appointment","key","Component","generateTimes","initialHour","endHour","hours","hour","push","moment","format","Schedule","closeModal","closeModalAndUpdate","updateApptName","updateAppointment","clearAppointment","updateApptPhoneNumber","validate","showConfirmationModal","closeConfirmationModal","deleteAppointments","keyDownSubmit","appointmentsSynced","currentUserToken","nextProps","currentUserEmail","currentUserID","addEditMongoDBAppointment","appointmentInState","currentAppointment","_id","appointment","API_URL","appointmentToPost","time","put","err","name","value","phoneNumber","appointmentNameValid","phoneNumberValid","modalHeader","modalButtonText","id","waves","header","modalOptions","complete","actions","open","showDeleteModal","components_timeTable","showModal","fixedFooter","disabled","ready","l","placeholder","indexOf","defaultValue","onChange","success","label","onKeyPress","appointmentValid","SignUpSignIn","toggleRegistration","setEmail","setPassword","validateEmail","validatePassword","handleSignUpSignIn","signSignUpFailureReset","determineRegistration","password","validateSignInSignUpForm","email","signInSignUpFormValid","registration","message","_response$data$create","createdUser","history","registerUserSuccess","_response$data$logged","loggedInUser","userToken","loginUser","match","url","failure","signInSignUpFailed","checked","onLabel","offLabel","m","offset","emailValid","passwordValid","loaderState","Home","ipData","get","status","ipInfo","user","city","region","App","_Component","apply","arguments","inherits","createClass","times","components_navbar","Route","exact","path","component","withRouter","initialState","ipAvailable","appointmentNameFormTouched","appointmentPhoneNumberFormTouched","createStore","length","undefined","action","assign","objectSpread","updatedAppointments","slice","RegExp","test","Boolean","cachedAppointments","JSON","parse","localStorage","getItem","setItem","stringify","apppointments","authInfo","userEmail","userID","stateAppointments","stateApt","matchingAppointment","find","toConsumableArray","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","store","Router","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.0bfed811.chunk.js","sourcesContent":["import {createBrowserHistory} from 'history';\r\nexport default createBrowserHistory();","import axios from 'axios';\r\nimport history from './../history';\r\nimport * as actionTypes from './actionTypes';\r\n// TODO Get appointments\r\n\r\nexport const syncMongoDBAppointments = (appointments) => ({\r\n  type: actionTypes.SYNC_MONGODB_APPOINTMENTS,\r\n  appointments\r\n});\r\n\r\nexport const getAppointments = (token) => (dispatch) => {\r\n  const GET_APPOINTMENTS_ENDPOINT = \"/api/appointments\";\r\n  let headers = {'Authorization': `bearer ${token}`};\r\n  axios.post(GET_APPOINTMENTS_ENDPOINT, {}, {headers})\r\n    .then((response) => {\r\n      if (response.data.appointments) {\r\n        console.log(response.data.appointments);\r\n        return dispatch(syncMongoDBAppointments(response.data.appointments));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n\r\n};\r\n\r\nexport const logout = () => ({\r\n  type: actionTypes.LOGOUT\r\n});\r\n\r\nexport const signInSignUpFailed = () => ({\r\n  type: actionTypes.SIGNIN_SIGN_UP_FAILED\r\n});\r\n\r\nexport const signInSignUpFailedReset = () => ({\r\n  type: actionTypes.SIGNIN_SIGN_UP_FAILED_RESET\r\n  \r\n});\r\n\r\nexport const checkTokenAndUserExists = () => ({\r\n  type: actionTypes.CHECK_TOKEN_AND_USER_EXISTS\r\n});\r\n\r\n\r\nexport const authenticateUserSuccess = () => ({\r\n  type: actionTypes.AUTHENTICATE_USER_SUCCESS\r\n});\r\n\r\n\r\nexport const authenticateUser = (token) => (dispatch) => {\r\n  let AUTH_ENDPOINT = \"/auth/authenticate\";\r\n  let headers = {'Authorization': `bearer ${token}`};\r\n\r\n  axios.post(AUTH_ENDPOINT, {}, {headers})\r\n    .then((authResponse) => {\r\n      return dispatch(authenticateUserSuccess());\r\n    });\r\n};\r\n\r\n\r\nexport const registerUserSuccess = (token, email, _id) => ({\r\n  type: actionTypes.REGISTER_USER_SUCCESS,\r\n  token, email, _id\r\n});\r\n\r\nexport const registerUser = (email, password) => (dispatch) => {\r\n  let REGISTER_ENDPOINT = \"/auth/register\";\r\n  axios.post(REGISTER_ENDPOINT, {email, password})\r\n    .then((response) => {\r\n      // dispatch a success action\r\n      if (response.data.message === \"User Created\") {\r\n        let {email, _id} = response.data.createdUser;\r\n        let {token} = response.data;\r\n        history.push('/schedule');\r\n        return dispatch(registerUserSuccess(token, email, _id));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log('There was an error registering');\r\n      return dispatch(signInSignUpFailed());\r\n    });\r\n};\r\n\r\n\r\nexport const loginUserSuccess = (email, id, token) => ({\r\n  type: actionTypes.LOGIN_USER_SUCCESS,\r\n  email,\r\n  id,\r\n  token\r\n});\r\n\r\n\r\nexport const loginUser = (email, password) => (dispatch) => {\r\n  let LOGIN_ENDPOINT = '/auth/login';\r\n  axios.post(LOGIN_ENDPOINT, {email, password})\r\n    .then((response) => {\r\n      if (response.data.message === \"Successfully logged in\") {\r\n        let {email, _id} = response.data.loggedInUser;\r\n        let {userToken} = response.data;\r\n        \r\n        history.push('/schedule');\r\n        return dispatch(loginUserSuccess(email, _id, userToken));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error, 'error in login');\r\n      return dispatch(signInSignUpFailed());\r\n    });\r\n};\r\n\r\n\r\nexport const getIpInfoSuccess = (ipData) => ({\r\n  type: actionTypes.GET_IP_INFO_SUCCESS,\r\n  ipData\r\n});\r\nexport const getIpInfo = () => (dispatch) => {\r\n  let BASE_URL = '/service/ip';\r\n  axios.get(BASE_URL)\r\n    .then((response) => {\r\n      // console.log(response);\r\n      if (response.status === 200 && response.data.ipData.status !== 'fail') {\r\n        return dispatch(getIpInfoSuccess(response.data.ipData));\r\n      }\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n\r\nexport const enableGuestMode = () => ({\r\n  type: actionTypes.ENABLE_GUEST_MODE,\r\n});\r\n\r\n\r\n\r\nexport const showModal = () => ({\r\n  type: actionTypes.SHOW_MODAL\r\n});\r\n\r\n\r\nexport const hideModal = () => ({\r\n  type: actionTypes.HIDE_MODAL\r\n});\r\n\r\n\r\n\r\nexport const setCurrentAppointmentTime = (appointmentTime) => ({\r\n  type: actionTypes.SET_CURRENT_APPOINTMENT_TIME,\r\n  appointmentTime: appointmentTime\r\n});\r\n\r\n\r\nexport const setCurrentAppointmentName = (appointmentName) => ({\r\n  type: actionTypes.SET_CURRENT_APPOINTMENT_NAME,\r\n  appointmentName\r\n});\r\n\r\n\r\nexport const setCurrentAppointmentIndex = (index) => ({\r\n  type: actionTypes.SET_CURRENT_APPOINTMENT_INDEX,\r\n  appointmentIndex: index\r\n});\r\n\r\n\r\nexport const setCurrentAppointmentPhoneNumber = (appointmentPhoneNumber) => ({\r\n  type: actionTypes.SET_CURRENT_APPOINTMENT_PHONE_NUMBER,\r\n  appointmentPhoneNumber\r\n});\r\n\r\n\r\nexport const setAppointmentTimes = (appointments) => ({\r\n  type: actionTypes.SET_APPOINTMENT_TIMES,\r\n  appointments\r\n});\r\n\r\n\r\nexport const updateAppointment = () => ({\r\n  type: actionTypes.UPDATE_APPOINTMENT,\r\n});\r\n\r\n\r\nexport const clearAppointment = () => ({\r\n  type: actionTypes.CLEAR_CURRENT_APPOINTMENT\r\n});\r\n\r\n\r\nexport const setAppointmentEdited = () => ({\r\n  type: actionTypes.SET_APPOINTMENT_EDITED\r\n});\r\n\r\n\r\nexport const setCurrentAppointmentEditedState = (index) => ({\r\n  type: actionTypes.SET_CURRENT_APPOINTMENT_EDIT_STATE,\r\n  appointmentIndex: index\r\n});\r\n\r\n\r\nexport const validatePhoneNumber = () => ({\r\n  type: actionTypes.VALIDATE_PHONE_NUMBER\r\n});\r\n\r\n\r\nexport const validateAppointmentName = () => ({\r\n  type: actionTypes.VALIDATE_APPOINTMENT_NAME\r\n});\r\n\r\n\r\nexport const writeAppointmentsCache = () => ({\r\n  type: actionTypes.WRITE_APPOINTMENTS_CACHE\r\n});\r\n\r\n\r\nexport const retrieveAppointmentsCache = () => ({\r\n  type: actionTypes.RETRIEVE_APPOINTMENTS_CACHE\r\n});\r\n\r\n\r\nexport const resetAppointments = () => ({\r\n  type: actionTypes.RESET_APPOINTMENTS\r\n});\r\n\r\n\r\nexport const showDeleteConfirmationModal = () => ({\r\n  type: actionTypes.SHOW_DELETE_CONFIRMATION_MODAL\r\n});\r\n\r\n\r\nexport const hideDeleteConfirmationModal = () => ({\r\n  type: actionTypes.HIDE_DELETE_CONFIRMATION_MODAL\r\n});\r\n\r\n\r\nexport const setRegistration = () => ({\r\n  type: actionTypes.SET_REGISTRATION\r\n});\r\n\r\n\r\nexport const unsetRegistration = () => ({\r\n  type: actionTypes.UNSET_REGISTRATION\r\n});\r\n\r\n\r\nexport const toggleRegistration = () => ({\r\n  type: actionTypes.TOGGLE_REGISTRATION\r\n});\r\n\r\n\r\nexport const setPassword = (password) => ({\r\n  type: actionTypes.SET_PASSWORD,\r\n  password\r\n});\r\n\r\n\r\nexport const setEmail = (email) => ({\r\n  type: actionTypes.SET_EMAIL,\r\n  email\r\n});\r\n\r\n\r\nexport const validateEmail = () => ({\r\n  type: actionTypes.VALIDATE_EMAIL\r\n});\r\n\r\n\r\nexport const validatePassword = () => ({\r\n  type: actionTypes.VALIDATE_PASSWORD\r\n});\r\n\r\n\r\nexport const validateSignInSignUp = () => ({\r\n  type: actionTypes.VALIDATE_SIGNIN_SIGNUP\r\n}); \r\n\r\n\r\nexport const addEditMongoDBAppointment = (appointment, token) => (dispatch) => {\r\n  console.log('inside add edit mongo appointment');\r\n  const ADD_APPOINTMENT_URL = '/api/addAppointment';\r\n  const EDIT_APPOINTMENT_URL = '/api/updateAppointment';\r\n  let API_URL = appointment._id ? EDIT_APPOINTMENT_URL : ADD_APPOINTMENT_URL;\r\n  let headers = {'Authorization': `bearer ${token}`};\r\n  let appointmentToPost = {\r\n    appointmentName: appointment.appointmentName,\r\n    appointmentPhoneNumber: appointment.appointmentPhoneNumber,\r\n    time: appointment.appointmentTime\r\n  };\r\n  console.log('appointment to update inside add edit mongo appointment', appointmentToPost);\r\n  console.log('headers', headers)\r\n  if (API_URL === EDIT_APPOINTMENT_URL) {\r\n    appointmentToPost._id = appointment._id;\r\n    axios.put(API_URL, appointmentToPost, {headers})\r\n      .then((response) => {\r\n        console.log('Inside update appointment response');\r\n        console.log(response);\r\n      })\r\n      .catch(err => console.log(err));\r\n  } else {\r\n    axios.post(API_URL, appointmentToPost, {headers})\r\n      .then((response) => {\r\n        console.log('Inside add appointment response');\r\n        console.log(response);\r\n      })\r\n      .catch((err) => err);\r\n\r\n  }\r\n};\r\n","export const GET_APPOINTMENTS_SUCCESS = \"GET APPOINTMENTS SUCCESS\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const CHECK_TOKEN_AND_USER_EXISTS = \"CHECK TOKEN\";\r\nexport const AUTHENTICATE_USER_SUCCESS = \"AUTHENTICATE USER SUCCESS\";\r\nexport const REGISTER_USER_SUCCESS = \"REGISTER USER SUCCESS\";\r\nexport const LOGIN_USER_SUCCESS = \"LOGIN USER SUCCESS\";\r\nexport const GET_IP_INFO_SUCCESS = \"GET_IP_INFO_SUCCESS\";\r\nexport const ENABLE_GUEST_MODE = \"ENABLE GUEST MODE\";\r\nexport const SHOW_MODAL = \"SHOW MODAL\";\r\nexport const HIDE_MODAL = \"HIDE MODAL\";\r\nexport const SET_CURRENT_APPOINTMENT_TIME = \"SET CURRENT APPOINTMENT TIME\";\r\nexport const SET_CURRENT_APPOINTMENT_NAME = \"SET CURRENT APPOINTMENT NAME\";\r\nexport const SET_CURRENT_APPOINTMENT_INDEX = \"SET CURRENT APPOINTMENT INDEX\";\r\nexport const SET_CURRENT_APPOINTMENT_PHONE_NUMBER = \"SET CURRENT APPOINTMENT PHONE NUMBER\";\r\nexport const SET_APPOINTMENT_TIMES = \"SET APPOINTMENT TIMES\";\r\nexport const UPDATE_APPOINTMENT = \"UPDATE APPOINTMENT\";\r\nexport const CLEAR_CURRENT_APPOINTMENT = \"CLEAR CURRENT APPOINTMENT\";\r\nexport const SET_APPOINTMENT_EDITED = \"SET APPOINTMENT EDITED\";\r\nexport const SET_CURRENT_APPOINTMENT_EDIT_STATE = \"SET CURRENT APPOINTMENT EDITED\";\r\nexport const VALIDATE_PHONE_NUMBER = \"VALIDATE PHONE NUMBER\";\r\nexport const VALIDATE_APPOINTMENT_NAME = \"VALIDATE APPOINTMENT NAME\";\r\nexport const WRITE_APPOINTMENTS_CACHE = \"WRITE APPOINTMENTS CACHE\";\r\nexport const RETRIEVE_APPOINTMENTS_CACHE = \"RETRIEVE APPOINTMENTS CACHE\";\r\nexport const RESET_APPOINTMENTS = \"RESET APPOINTMENTS\";\r\nexport const SHOW_DELETE_CONFIRMATION_MODAL = \"SHOW DELETE CONFIRMATION MODAL\";\r\nexport const HIDE_DELETE_CONFIRMATION_MODAL = \"HIDE DELETE CONFIRMATION MODAL\";\r\nexport const SET_REGISTRATION = \"SET_REGISTRATION\";\r\nexport const UNSET_REGISTRATION = \"UNSET_REGISTRATION\";\r\nexport const TOGGLE_REGISTRATION = \"TOGGLE REGISTRATION\";\r\nexport const SET_PASSWORD = \"SET PASSWORD\";\r\nexport const SET_EMAIL = \"SET EMAIL\";\r\nexport const VALIDATE_EMAIL = \"VALIDATE EMAIL\";\r\nexport const VALIDATE_PASSWORD = \"VALIDATE PASSWORD\";\r\nexport const VALIDATE_SIGNIN_SIGNUP = \"VALIDATE SIGNIN SIGNUP\";\r\nexport const SIGNIN_SIGN_UP_FAILED = \"SIGN IN SIGN UP FAILED\";\r\nexport const SIGNIN_SIGN_UP_FAILED_RESET = \"SIGN IN SIGN UP FAILED RESET\";\r\nexport const SYNC_MONGODB_APPOINTMENTS = \"SYNC MONGODB APPOINTMENTS\";\r\nexport const ADD_EDIT_MONGODB_APPOINTMENT = \"ADD EDIT MONGODB APPOINTMENT\";","import React from 'react';\r\nimport {Navbar, NavItem, Button} from 'react-materialize';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {enableGuestMode, logout} from './../actions/appointmentActions';\r\nimport './navbar.css';\r\n\r\nexport const Nav = (props) => {\r\n  return (\r\n    <Navbar className=\"nav\" brand='React Appointment Scheduler' left>\r\n      <NavItem node={<div></div>}>\r\n        <Link className=\"navLink\" to=\"/\">Home</Link>\r\n      </NavItem>\r\n      <NavItem node={<div></div>} href='components.html'>\r\n        {\r\n          props.currentUserAuthenticated | props.guestMode ?\r\n            <Link className=\"navLink\" to=\"/schedule\">Schedule</Link>\r\n            :\r\n            <Link onClick={() => props.dispatch(enableGuestMode())} className=\"navLink\" to=\"/schedule\">Guest</Link>\r\n        }\r\n          \r\n      </NavItem>\r\n      {\r\n        props.currentUserAuthenticated ?\r\n          <NavItem>\r\n            <Button className=\"waves-red waves-effect logOut\" onClick={() => props.dispatch(logout())}>\r\n              Log Out\r\n            </Button>\r\n          </NavItem>\r\n          :\r\n          null\r\n      }\r\n\r\n    </Navbar>\r\n  );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  guestMode: state.guestMode,\r\n  currentUserAuthenticated: state.currentUserAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps)(Nav);","import React from 'react';\r\nimport './appointment.css';\r\n\r\n\r\nconst Appointment = ({appointmentName, appointmentTime, appointmentIndex, appointmentPhoneNumber, edited, onClick}) => {\r\n  let editedClass = `${edited ? 'editedAppointment waves-effect waves-red' : 'newAppointment waves-effect waves-red'} appointmentBody `;\r\n  return (\r\n    <div \r\n      className=\"appointmentContainer\"\r\n      index={appointmentIndex}\r\n      onClick={onClick}>\r\n      <div index={appointmentIndex} className=\"appointment\">\r\n        <div index={appointmentIndex} className={editedClass + 'name'}>{appointmentName ? appointmentName : '+'}</div>\r\n        <div index={appointmentIndex} className={editedClass + 'phoneNumber'}>{appointmentPhoneNumber ? appointmentPhoneNumber : 'Phone number'}</div>\r\n        <div index={appointmentIndex} className={editedClass + 'time'}>{appointmentTime}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Appointment;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Appointment from './appointment';\r\nimport './timeTable.css';\r\nimport {\r\n  showModal, \r\n  setCurrentAppointmentName, \r\n  setCurrentAppointmentIndex,\r\n  setCurrentAppointmentTime,\r\n  setCurrentAppointmentPhoneNumber,\r\n  setCurrentAppointmentEditedState\r\n} from '../actions/appointmentActions';\r\n\r\n\r\nclass TimeTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.appointmentClick = this.appointmentClick.bind(this);\r\n  }\r\n\r\n  appointmentClick(event) {\r\n    let index = parseInt(event.target.getAttribute(\"index\"));\r\n    let appointmentName = this.props.appointments[index].appointmentName;\r\n    let appointmentTime = this.props.appointments[index].appointmentTime;\r\n    let appointmentPhoneNumber = this.props.appointments[index].appointmentPhoneNumber;\r\n    this.props.dispatch(setCurrentAppointmentTime(appointmentTime));\r\n    this.props.dispatch(setCurrentAppointmentName(appointmentName));\r\n    this.props.dispatch(setCurrentAppointmentPhoneNumber(appointmentPhoneNumber));\r\n    this.props.dispatch(setCurrentAppointmentIndex(index));\r\n    this.props.dispatch(setCurrentAppointmentEditedState(index));\r\n    this.props.dispatch(showModal());\r\n\r\n  }\r\n\r\n  render() {\r\n    let appointments = null;\r\n    if (this.props.appointments) {\r\n      appointments = this.props.appointments.map((appt, i) => {\r\n        return (\r\n          <Appointment \r\n            key={i} \r\n            appointmentTime={appt.appointmentTime} \r\n            appointmentName={appt.appointmentName}\r\n            appointmentIndex={appt.appointmentIndex}\r\n            appointmentPhoneNumber={appt.appointmentPhoneNumber}\r\n            edited={appt.edited}\r\n            onClick={this.appointmentClick}/>\r\n        );\r\n      });\r\n    }\r\n    return (\r\n      <div>\r\n        <div className=\"timeTable\">\r\n          <div className=\"appointmentHead name\">Appointment Name</div>\r\n          <div className=\"appointmentHead phoneNumber\">Phone</div>\r\n          <div className=\"appointmentHead time\">Time</div>\r\n        </div>\r\n        {appointments}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  appointments: state.appointments\r\n});\r\n\r\nexport default connect(mapStateToProps)(TimeTable);","import moment from 'moment';\r\n\r\n\r\nconst generateTimes = (initialHour, endHour) =>  {\r\n  const hours = [];\r\n  for(let hour = initialHour, i = 0; hour < endHour + 1; hour++, i++) {\r\n    hours.push({\r\n      appointmentTime: moment({ hour }).format('h:mm A'),\r\n      appointmentName: \"\",\r\n      appointmentIndex: i,\r\n      appointmentPhoneNumber: \"\",\r\n      edited: false\r\n    });\r\n  }\r\n  // console.log(hours);\r\n  return hours;\r\n};\r\nexport default generateTimes;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Modal, Button, Row, Col, Input} from 'react-materialize';\r\nimport {\r\n  hideModal, \r\n  setCurrentAppointmentName,\r\n  setCurrentAppointmentPhoneNumber,\r\n  setAppointmentTimes,\r\n  updateAppointment,\r\n  clearAppointment,\r\n  setAppointmentEdited,\r\n  validateAppointmentName,\r\n  validatePhoneNumber,\r\n  retrieveAppointmentsCache,\r\n  writeAppointmentsCache,\r\n  resetAppointments,\r\n  showDeleteConfirmationModal,\r\n  hideDeleteConfirmationModal,\r\n  getAppointments,\r\n  checkTokenAndUserExists,\r\n  authenticateUser,\r\n  addEditMongoDBAppointment\r\n  \r\n} from './../actions/appointmentActions';\r\nimport TimeTable from './../components/timeTable';\r\nimport generateTimes from './../utils/generateSchedule';\r\nimport './schedule.css';\r\n\r\nclass Schedule extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.closeModalAndUpdate = this.closeModalAndUpdate.bind(this);\r\n    this.updateApptName = this.updateApptName.bind(this);\r\n    this.updateAppointment = this.updateAppointment.bind(this);\r\n    this.clearAppointment = this.clearAppointment.bind(this);\r\n    this.updateApptPhoneNumber = this.updateApptPhoneNumber.bind(this);\r\n    this.validate = this.validate.bind(this);\r\n    this.showConfirmationModal = this.showConfirmationModal.bind(this);\r\n    this.closeConfirmationModal = this.closeConfirmationModal.bind(this);\r\n    this.deleteAppointments = this.deleteAppointments.bind(this);\r\n    this.keyDownSubmit = this.keyDownSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.props.dispatch(checkTokenAndUserExists());\r\n    if (this.props.guestMode) {\r\n      this.props.dispatch(retrieveAppointmentsCache());\r\n    } else if (!this.props.appointmentsSynced) {\r\n      this.props.dispatch(setAppointmentTimes(generateTimes(this.props.initialHour, this.props.endHour)));\r\n    }\r\n    if (this.props.currentUserAuthenticated && !this.props.appointmentsSynced) {\r\n      this.props.dispatch(getAppointments(this.props.currentUserToken));\r\n    }\r\n\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    if (nextProps.currentUserEmail && nextProps.currentUserID && nextProps.currentUserToken && !nextProps.currentUserAuthenticated) {\r\n      this.props.dispatch(authenticateUser(nextProps.currentUserToken));\r\n    }\r\n\r\n    if (nextProps.currentUserAuthenticated && !this.props.appointmentsSynced) {\r\n      this.props.dispatch(getAppointments(this.props.currentUserToken));\r\n    }\r\n\r\n  }\r\n\r\n\r\n  closeModal() {\r\n    this.props.dispatch(hideModal());\r\n    this.clearAppointment();\r\n  }\r\n  \r\n  closeModalAndUpdate() {\r\n    this.props.dispatch(hideModal());\r\n    this.props.dispatch(updateAppointment());\r\n    this.props.dispatch(setAppointmentEdited());\r\n    this.props.dispatch(writeAppointmentsCache());\r\n    this.clearAppointment();\r\n    this.addEditMongoDBAppointment();\r\n    \r\n  }\r\n\r\n  addEditMongoDBAppointment() {\r\n    if (!this.props.guestMode && this.props.currentUserAuthenticated) {\r\n      console.log('inside close modal and update!');\r\n      let appointmentInState = this.props.appointments[this.props.currentAppointment.appointmentIndex];\r\n      let currentAppointment = this.props.currentAppointment;\r\n      if (appointmentInState._id) {\r\n        currentAppointment._id = appointmentInState._id;\r\n      }\r\n      console.log(currentAppointment, 'APPOINTMENT TO UPDATE!');\r\n      this.props.dispatch(addEditMongoDBAppointment(currentAppointment, this.props.currentUserToken));\r\n    }\r\n  }\r\n\r\n  validate() {\r\n    this.props.dispatch(validateAppointmentName());\r\n    this.props.dispatch(validatePhoneNumber());\r\n  }\r\n\r\n  clearAppointment() {\r\n    this.props.dispatch(clearAppointment());\r\n  }\r\n\r\n  updateApptName(event) {\r\n    let name = event.target.value;\r\n    this.props.dispatch(setCurrentAppointmentName(name));\r\n    this.props.dispatch(validateAppointmentName());\r\n  }\r\n\r\n  updateApptPhoneNumber(event) {\r\n    let phoneNumber = event.target.value;\r\n    this.props.dispatch(setCurrentAppointmentPhoneNumber(phoneNumber));\r\n    this.props.dispatch(validatePhoneNumber());\r\n  }\r\n\r\n  updateAppointment() {\r\n    this.props.dispatch(updateAppointment());\r\n  }\r\n\r\n  deleteAppointments() {\r\n    this.props.dispatch(resetAppointments());\r\n    this.props.dispatch(setAppointmentTimes(generateTimes(this.props.initialHour, this.props.endHour)));\r\n\r\n    this.closeConfirmationModal();\r\n  }\r\n\r\n  closeConfirmationModal () {\r\n    this.props.dispatch(hideDeleteConfirmationModal());\r\n  }\r\n\r\n  showConfirmationModal () {\r\n    this.props.dispatch(showDeleteConfirmationModal());\r\n  }\r\n\r\n  keyDownSubmit(event) {\r\n    if (event.key === \"Enter\" && this.props.appointmentNameValid && this.props.phoneNumberValid) {\r\n      this.closeModalAndUpdate();\r\n    }\r\n  }\r\n    \r\n  render() {\r\n    let modalHeader = this.props.currentAppointment.edited ? 'Update Appointment Details' : 'Create Appointment';\r\n    let modalButtonText = this.props.currentAppointment.edited ? 'Update' : 'Create';\r\n    return (\r\n      <div className=\"slowPopIn\">\r\n        <div className=\"scheduleContainer\">\r\n          {this.props.guestMode ? (\r\n            <div className=\"guestModeContainer\">\r\n              <Button \r\n                id=\"appointmentReset\"\r\n                waves=\"red\"\r\n                onClick={this.showConfirmationModal}>Reset Appointments\r\n              </Button>\r\n              <Modal\r\n                header=\"Delete Appointments\"\r\n                modalOptions={{complete: this.closeConfirmationModal}}\r\n                actions={[\r\n                  <Button \r\n                    key=\"close\" \r\n                    onClick={this.closeConfirmationModal}\r\n                    waves=\"red\"\r\n                    id=\"closeConfirmationModal\">\r\n                  Close\r\n                  </Button>,\r\n                  <Button \r\n                    key=\"confirm\"\r\n                    onClick={this.deleteAppointments}\r\n                    waves=\"green\"\r\n                    id=\"confirmConfirmationModal\">\r\n                  Confirm\r\n                  </Button>\r\n                ]}\r\n                open={this.props.showDeleteModal}>\r\n                <p>Are you sure you want to delete all appointments?</p>\r\n              </Modal>\r\n              <h5 className=\"guestMode\">Guest mode</h5>\r\n              <TimeTable/>\r\n            </div>\r\n          ):\r\n            <div className=\"authenticated\">\r\n              <p>Welcome {this.props.currentUserEmail ? this.props.currentUserEmail : ''}</p>\r\n              <TimeTable/>\r\n            </div>\r\n          }\r\n        </div>\r\n\r\n        <Modal\r\n          header={modalHeader}\r\n          open={this.props.showModal}\r\n          fixedFooter\r\n          actions={[\r\n            <Button \r\n              id=\"closeModal\" \r\n              key=\"close\" \r\n              onClick={this.closeModal}>\r\n              Close\r\n            </Button>,\r\n            <Button \r\n              id=\"updateModal\" \r\n              key=\"updateModal\" \r\n              onClick={this.closeModalAndUpdate}\r\n              disabled={!this.props.appointmentNameValid || !this.props.phoneNumberValid}>\r\n              {modalButtonText}\r\n            </Button>\r\n          ]}\r\n          modalOptions={{complete: this.closeModal, ready: this.validate}}>\r\n          <Row>\r\n            <Col l={6}>\r\n              <Input\r\n                id=\"appointmentName\"\r\n                placeholder={['+', ''].indexOf(this.props.currentAppointment.appointmentName) === -1 ? '' : 'Enter an appointment'}\r\n                defaultValue={this.props.currentAppointment.appointmentName}\r\n                value={this.props.currentAppointment.appointmentName === '+' ? '' : this.props.currentAppointment.appointmentName}\r\n                onChange={this.updateApptName}\r\n                error={!this.props.appointmentNameValid ? 'Enter an appointment name' : ''}\r\n                success={this.props.appointmentNameValid ? '\\u2713' : ''}\r\n                label=\"Appointment Name\"\r\n                onKeyPress={this.keyDownSubmit}>\r\n              </Input>\r\n            </Col>\r\n            <Col l={6}>\r\n              <Input\r\n                id=\"appointmentPhoneNumber\"\r\n                placeholder={this.props.currentAppointment.appointmentPhoneNumber === '' ? '123-123-5123': ''}\r\n                value={this.props.currentAppointment.appointmentPhoneNumber === '' ? '' : this.props.currentAppointment.appointmentPhoneNumber}\r\n                onChange={this.updateApptPhoneNumber}\r\n                label=\"Appointment Phone Number\"\r\n                error={!this.props.phoneNumberValid ? '123-456-7890' : ''}\r\n                success={this.props.phoneNumberValid ? '\\u2713': ''}\r\n                onKeyPress={this.keyDownSubmit}>\r\n              </Input>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <div>Appointment Time: {this.props.currentAppointment.appointmentTime}</div>\r\n          </Row>\r\n          {this.props.appointmentValid ? null : <div className=\"error\"></div>}\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  guestMode: state.guestMode,\r\n  showModal: state.showModal,\r\n  currentAppointment: state.currentAppointment,\r\n  appointments: state.appointments,\r\n  appointmentNameValid: state.appointmentNameValid,\r\n  phoneNumberValid: state.phoneNumberValid,\r\n  showDeleteModal: state.showDeleteModal,\r\n  initialHour: state.initialHour,\r\n  endHour: state.endHour,\r\n  currentUserAuthenticated: state.currentUserAuthenticated,\r\n  currentUserToken: state.currentUserToken,\r\n  currentUserID: state.currentUserID,\r\n  currentUserEmail: state.currentUserEmail,\r\n  appointmentsSynced: state.appointmentsSynced\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps)(Schedule);","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Row, Col, Input, Button, Modal} from 'react-materialize';\r\nimport {\r\n  toggleRegistration,\r\n  unsetRegistration,\r\n  setRegistration,\r\n  setPassword,\r\n  setEmail,\r\n  validateEmail,\r\n  validatePassword,\r\n  validateSignInSignUp,\r\n  registerUser,\r\n  loginUser,\r\n  signInSignUpFailedReset\r\n} from './../actions/appointmentActions';\r\nimport './signUpSignIn.css';\r\n\r\n\r\nclass SignUpSignIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggleRegistration = this.toggleRegistration.bind(this);\r\n    this.setEmail = this.setEmail.bind(this);\r\n    this.setPassword = this.setPassword.bind(this);\r\n    this.validateEmail = this.validateEmail.bind(this);\r\n    this.validatePassword = this.validatePassword.bind(this);\r\n    this.handleSignUpSignIn = this.handleSignUpSignIn.bind(this);\r\n    this.keyDownSubmit = this.keyDownSubmit.bind(this);\r\n    this.signSignUpFailureReset = this.signSignUpFailureReset.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.determineRegistration();\r\n  }\r\n\r\n  setPassword(event) {\r\n    let password = event.target.value;\r\n    this.props.dispatch(setPassword(password));\r\n    this.validatePassword();\r\n    this.validateSignInSignUpForm();\r\n  }\r\n\r\n  setEmail(event) {\r\n    let email = event.target.value;\r\n    this.props.dispatch(setEmail(email));\r\n    this.validateEmail();\r\n    this.validateSignInSignUpForm();\r\n  }\r\n\r\n  validatePassword() {\r\n    this.props.dispatch(validatePassword());\r\n  }\r\n\r\n  validateEmail() {\r\n    this.props.dispatch(validateEmail());\r\n  }\r\n\r\n  validateSignInSignUpForm() {\r\n    this.props.dispatch(validateSignInSignUp());\r\n  }\r\n\r\n  handleSignUpSignIn() {\r\n    console.log('this.props inside handle signup sign in', this.props);\r\n    if (this.props.signInSignUpFormValid) {\r\n      if (this.props.registration) {\r\n        this.props.dispatch(registerUser(this.props.email, this.props.password));\r\n      } else {\r\n        this.props.dispatch(loginUser(this.props.email, this.props.password));\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  determineRegistration() {\r\n    if (this.props.match.url === '/login') {\r\n      this.props.dispatch(unsetRegistration());\r\n    } else if (this.props.match.url === '/register') {\r\n      this.props.dispatch(setRegistration());\r\n    }\r\n  }\r\n\r\n  toggleRegistration() {\r\n    this.props.dispatch(toggleRegistration());\r\n  }\r\n\r\n  keyDownSubmit(event) {\r\n    if (event.key === \"Enter\") {\r\n      this.handleSignUpSignIn();\r\n    }\r\n  }\r\n\r\n  signSignUpFailureReset() {\r\n    this.props.dispatch(signInSignUpFailedReset());\r\n  }\r\n\r\n  render () {\r\n    let failure = this.props.registration ? 'Sign up' : 'Sign in';\r\n    let modalHeader = `${failure} failed`;\r\n    return (\r\n      <div className=\"slowPopIn\" id=\"signUpSignIn\">\r\n        <Modal\r\n          header={modalHeader}\r\n          open={this.props.signInSignUpFailed}\r\n          fixedFooter\r\n          actions={\r\n            <Button\r\n              id=\"closeModal\"\r\n              onClick={this.signSignUpFailureReset}>\r\n              Close\r\n            </Button>\r\n          }>\r\n          <p>\r\n            {failure} failed. {this.props.registration ? 'There was an error registering the user.': 'The user already exists.'} \r\n          </p>\r\n        </Modal>\r\n        <div className=\"choice\">I would like to: </div>\r\n        <Row>\r\n          <Col l={12}>\r\n            <Input \r\n              type=\"switch\"\r\n              checked={this.props.registration}\r\n              onClick={this.toggleRegistration}\r\n              onLabel=\"Register\"\r\n              offLabel=\"Login\"/>\r\n          </Col>\r\n\r\n        </Row>\r\n        <Row>\r\n          <Col m={6} offset=\"m5\">\r\n            <Input\r\n              label=\"Email\"\r\n              id=\"email\"\r\n              onChange={this.setEmail}\r\n              success={this.props.emailValid ? '\\u2713' : ''}\r\n              error={!this.props.emailValid ? 'Email is invalid' : ''}\r\n              onKeyPress={this.keyDownSubmit}/>\r\n          </Col>\r\n          <Col m={6} offset=\"m5\">\r\n            <Input\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              onChange={this.setPassword}\r\n              success={this.props.passwordValid ? '\\u2713' : ''}\r\n              error={!this.props.passwordValid ? 'Between 6 and 20 characters. Must contain a lowercase, uppercase, number, and special character.' : ''}\r\n              onKeyPress={this.keyDownSubmit}/>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          \r\n        </Row>\r\n        <Row>\r\n          <Button \r\n            waves=\"green\" \r\n            id=\"authSubmit\"\r\n            disabled={this.props.signInSignUpFormValid ? false : true}\r\n            onClick={this.handleSignUpSignIn}>\r\n            {this.props.registration ? 'Register' : 'Sign In'}\r\n          </Button>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  registration: state.registration,\r\n  emailValid: state.emailValid,\r\n  passwordValid: state.passwordValid,\r\n  signInSignUpFormValid: state.signInSignUpFormValid,\r\n  password: state.password,\r\n  email: state.email,\r\n  loaderState: state.loaderState,\r\n  signInSignUpFailed: state.signInSignUpFailed\r\n});\r\n\r\nexport default connect(mapStateToProps)(SignUpSignIn);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Button} from 'react-materialize';\r\nimport {Link} from 'react-router-dom';\r\nimport {enableGuestMode, checkTokenAndUserExists} from './../actions/appointmentActions';\r\nimport './home.css';\r\nimport {getIpInfo} from './..//actions/appointmentActions';\r\n\r\nclass Home extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.guestMode = this.guestMode.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(checkTokenAndUserExists());\r\n    if (!this.props.ipData) {\r\n      this.props.dispatch(getIpInfo());\r\n    }\r\n  }\r\n\r\n\r\n  guestMode() {\r\n    this.props.dispatch(enableGuestMode());\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.ipData, 'ipdata in home.js!');\r\n    let ipInfo = null;\r\n    let user = this.props.currentUserAuthenticated ? this.props.currentUserEmail : 'guest';\r\n    if (this.props.ipData) {\r\n      ipInfo = ` from ${this.props.ipData.city}, ${this.props.ipData.region}!`;\r\n    }\r\n    return (\r\n      <div className=\"headerContainer slowPopIn\">\r\n        <header className=\"App-header\">\r\n          <p className=\"welcomeText\">\r\n          Welcome {user} {ipInfo ? ipInfo: '!'} {!this.props.currentUserAuthenticated ? 'Please login or try out the app in Guest Mode!': 'Please continue to your schedule!'}\r\n          </p>\r\n        </header>\r\n        {\r\n          !this.props.currentUserAuthenticated ?\r\n            <div className=\"welcome\">\r\n              <Button \r\n                waves=\"green\">\r\n                <Link to=\"/login\">\r\n                Login\r\n                </Link>\r\n              </Button>\r\n              <Button \r\n                waves=\"green\">\r\n                <Link to=\"/register\">\r\n                Register\r\n                </Link>\r\n              </Button>\r\n              \r\n              <Button waves=\"green\">\r\n                <Link onClick={this.guestMode} to=\"/schedule\">\r\n                Guest\r\n                </Link>\r\n              </Button>\r\n            </div>\r\n            :\r\n            <div className=\"welcome\">\r\n              <Button waves=\"green\">\r\n                <Link to=\"/schedule\">\r\n                Schedule\r\n                </Link>\r\n              </Button>\r\n            </div>\r\n        }\r\n      \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  guestMode: state.guestMode,\r\n  ipData: state.ipData,\r\n  currentUserAuthenticated: state.currentUserAuthenticated,\r\n  currentUserEmail: state.currentUserEmail,\r\n  currentUserID: state.currentUserID,\r\n  currentUserToken: state.currentUserToken\r\n});\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Route, withRouter} from 'react-router-dom';\r\nimport Nav from './components/navbar';\r\nimport Schedule from './pages/schedule';\r\nimport SignUpSignIn from './pages/signUpSignIn';\r\nimport Home from './pages/home';\r\nimport {setAppointmentTimes, checkTokenAndUserExists, authenticateUser} from './actions/appointmentActions';\r\nimport generateTimes from './utils/generateSchedule';\r\nimport './App.css';\r\n\r\nexport class App extends Component {\r\n\r\n  componentDidMount() {\r\n    let times = generateTimes(this.props.initialHour, this.props.endHour);\r\n    this.props.dispatch(setAppointmentTimes(times));\r\n    this.props.dispatch(checkTokenAndUserExists());\r\n\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.currentUserEmail && nextProps.currentUserID && nextProps.currentUserToken && !nextProps.currentUserAuthenticated) {\r\n      this.props.dispatch(authenticateUser(nextProps.currentUserToken));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"headerContainer\">\r\n          <Nav/>\r\n          <Route exact path=\"/\" component={Home}/>\r\n          <Route path=\"/schedule\" component={Schedule}/>\r\n          <Route path=\"/:path(login|register)\" component={SignUpSignIn}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialHour: state.initialHour,\r\n  endHour: state.endHour,\r\n  currentUserID: state.currentUserID,\r\n  currentUserToken: state.currentUserToken,\r\n  currentUserEmail: state.currentUserEmail\r\n});\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps)(App));","/* eslint-disable no-case-declarations */\r\nimport * as actionTypes from '../actions/actionTypes';\r\nimport history from './../history';\r\n\r\nexport const initialState = {\r\n  currentUserAuthenticated: false,\r\n  currentUserID: '',\r\n  currentUserToken: '',\r\n  currentUserEmail: '',\r\n  appointments: [],\r\n  appointmentsSynced: false,\r\n  guestMode: false,\r\n  ipAvailable: false,\r\n  ipData: null,\r\n  initialHour: 9,\r\n  endHour: 17,\r\n  currentAppointment: {},\r\n  appointmentNameValid: false,\r\n  phoneNumberValid: false,\r\n  appointmentNameFormTouched: false,\r\n  appointmentPhoneNumberFormTouched: false,\r\n  showDeleteModal: false,\r\n  registration: false,\r\n  password: \"\",\r\n  email: \"\",\r\n  emailValid: false,\r\n  passwordValid: false,\r\n  signInSignUpFormValid: false,\r\n  signInSignUpFailed: false\r\n};\r\n\r\nexport const appointmentReducer = (state=initialState, action) => {\r\n  switch(action.type) {\r\n  case actionTypes.ENABLE_GUEST_MODE:\r\n    return Object.assign({}, state, {guestMode: true});\r\n\r\n  case actionTypes.GET_IP_INFO_SUCCESS:\r\n    return Object.assign({}, state, {ipData: action.ipData});\r\n\r\n  case actionTypes.SHOW_MODAL:\r\n    return Object.assign({}, state, {showModal: true});\r\n\r\n  case actionTypes.HIDE_MODAL:\r\n    return Object.assign({}, state, {showModal: false});\r\n  \r\n  case actionTypes.SET_APPOINTMENT_TIMES:\r\n    return Object.assign({}, state, {appointments: action.appointments});\r\n\r\n  case actionTypes.SET_CURRENT_APPOINTMENT_NAME:\r\n    return Object.assign(\r\n      {}, \r\n      state, \r\n      {\r\n        currentAppointment: \r\n        {\r\n          ...state.currentAppointment,\r\n          appointmentName: action.appointmentName\r\n        }\r\n      }\r\n    );\r\n\r\n  case actionTypes.SET_CURRENT_APPOINTMENT_TIME:\r\n    return Object.assign(\r\n      {}, \r\n      state, {\r\n        currentAppointment: {\r\n          ...state.currentAppointment,\r\n          appointmentTime: action.appointmentTime, \r\n        }\r\n      });\r\n\r\n  case actionTypes.SET_CURRENT_APPOINTMENT_PHONE_NUMBER:\r\n    return Object.assign(\r\n      {},\r\n      state, {\r\n        currentAppointment: {\r\n          ...state.currentAppointment,\r\n          appointmentPhoneNumber: action.appointmentPhoneNumber,\r\n        }\r\n      }\r\n    );\r\n\r\n  case actionTypes.SET_CURRENT_APPOINTMENT_INDEX:\r\n    return Object.assign(\r\n      {},\r\n      state,\r\n      {\r\n        currentAppointment: {\r\n          ...state.currentAppointment,\r\n          appointmentIndex: action.appointmentIndex\r\n        }\r\n      }\r\n    );\r\n\r\n  case actionTypes.UPDATE_APPOINTMENT:\r\n    if (!state.currentAppointment.appointmentName) {\r\n      return state;\r\n    }\r\n    let updatedAppointments = state.appointments.slice();\r\n    updatedAppointments[state.currentAppointment.appointmentIndex] = state.currentAppointment;\r\n    if (!state.currentAppointment.edited) {\r\n      state.currentAppointment.edited = true;\r\n    }\r\n    return Object.assign({}, state, {\r\n      appointments: updatedAppointments,\r\n      currentAppointment: {...state.currentAppointment}\r\n    });\r\n\r\n  case actionTypes.CLEAR_CURRENT_APPOINTMENT:\r\n    return Object.assign({}, state, {currentAppointment: {}});\r\n\r\n  case actionTypes.SET_APPOINTMENT_EDITED:\r\n\r\n    let appointments = state.appointments.slice();\r\n    appointments[state.currentAppointment.appointmentIndex].edited = true;\r\n\r\n    return Object.assign({}, state, {appointments});\r\n  \r\n  case actionTypes.SET_CURRENT_APPOINTMENT_EDIT_STATE:\r\n    return Object.assign(\r\n      {},\r\n      state,\r\n      {\r\n        currentAppointment: {\r\n          ...state.currentAppointment,\r\n          edited: state.appointments[action.appointmentIndex].edited\r\n        }\r\n      }\r\n    );\r\n\r\n  case actionTypes.VALIDATE_PHONE_NUMBER:\r\n    let phoneNumber = state.currentAppointment.appointmentPhoneNumber;\r\n    let phoneNumberValid = new RegExp(/^\\d{3}-\\d{3}-\\d{4}$/);\r\n    return Object.assign({}, state, {phoneNumberValid: phoneNumberValid.test(phoneNumber)});\r\n\r\n  case actionTypes.VALIDATE_APPOINTMENT_NAME:\r\n    return Object.assign({}, state, {appointmentNameValid: Boolean(state.currentAppointment.appointmentName)});\r\n\r\n  case actionTypes.RETRIEVE_APPOINTMENTS_CACHE:\r\n    if (state.guestMode) {\r\n      let cachedAppointments = JSON.parse(localStorage.getItem(\"guest\"));\r\n      if (cachedAppointments) {\r\n        return Object.assign({}, state, {appointments: cachedAppointments});\r\n      }\r\n    }\r\n    return state;\r\n\r\n  case actionTypes.WRITE_APPOINTMENTS_CACHE:\r\n    if (state.guestMode) {\r\n      localStorage.setItem(\"guest\", JSON.stringify(state.appointments));\r\n    }\r\n    return state;\r\n\r\n  case actionTypes.RESET_APPOINTMENTS:\r\n    if (state.guestMode) {\r\n      localStorage.setItem(\"guest\", null);\r\n      return Object.assign({}, state, {apppointments: []});\r\n    }\r\n    return state;\r\n\r\n  case actionTypes.SHOW_DELETE_CONFIRMATION_MODAL:\r\n    if (state.guestMode) {\r\n      return Object.assign({}, state, {showDeleteModal: true});\r\n    }\r\n    return state;\r\n\r\n  case actionTypes.HIDE_DELETE_CONFIRMATION_MODAL:\r\n    if (state.guestMode) {\r\n      return Object.assign({}, state, {showDeleteModal: false});\r\n    }\r\n    return state;\r\n\r\n  case actionTypes.SET_REGISTRATION:\r\n    return Object.assign({}, state, {registration: true});\r\n\r\n  case actionTypes.UNSET_REGISTRATION:\r\n    return Object.assign({}, state, {registration: false});\r\n\r\n  case actionTypes.TOGGLE_REGISTRATION:\r\n    return Object.assign({}, state, {registration: !state.registration});\r\n\r\n  case actionTypes.SET_PASSWORD:\r\n    return Object.assign({}, state, {password: action.password});\r\n\r\n  case actionTypes.SET_EMAIL:\r\n    return Object.assign({}, state, {email: action.email});\r\n\r\n  case actionTypes.VALIDATE_EMAIL:\r\n    const emailValid = new RegExp(/^.+@{1}.+\\.[a-zA-Z]{2,4}$/);\r\n    \r\n    if (emailValid.test(state.email)) {\r\n      return Object.assign({}, state, {emailValid: true});\r\n    }\r\n    return Object.assign({}, state, {emailValid: false});\r\n\r\n  case actionTypes.VALIDATE_PASSWORD:\r\n    const passwordValid = new RegExp(/((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$?%!/\\{\\}\\[\\]\\(\\)]).{6,20})/);\r\n    if (passwordValid.test(state.password)) {\r\n      return Object.assign({}, state, {passwordValid: true});\r\n    }\r\n    return Object.assign({}, state, {passwordValid: false});\r\n\r\n  case actionTypes.VALIDATE_SIGNIN_SIGNUP:\r\n    if (state.emailValid && state.passwordValid) {\r\n      return Object.assign({}, state, {signInSignUpFormValid: true});\r\n    }\r\n    return Object.assign({}, state, {signInSignUpFormValid: false});\r\n  \r\n  case actionTypes.CHECK_TOKEN_AND_USER_EXISTS:\r\n    let authInfo = JSON.parse(localStorage.getItem(\"auth\"));\r\n    if (authInfo){\r\n      let {token, userEmail, userID} = authInfo;\r\n      if (token && userID && userEmail) {\r\n        return Object.assign(\r\n          {}, state, {currentUserID: userID, currentUserToken: token, currentUserEmail: userEmail});\r\n      }\r\n    }\r\n    return state;\r\n  case actionTypes.REGISTER_USER_SUCCESS:\r\n    \r\n    localStorage.setItem(\"auth\", JSON.stringify({\r\n      token: action.token,\r\n      userEmail: action.email,\r\n      userID: action.id\r\n    }));\r\n    return Object.assign({}, state, {currentUserAuthenticated: true, currentUserEmail: action.email, currentUserID: action.id, currentUserToken: action.token});\r\n\r\n  case actionTypes.AUTHENTICATE_USER_SUCCESS:\r\n    return Object.assign({}, state, {currentUserAuthenticated: true});\r\n\r\n  case actionTypes.LOGIN_USER_SUCCESS:\r\n    localStorage.setItem(\"auth\", JSON.stringify({\r\n      token: action.token,\r\n      userEmail: action.email,\r\n      userID: action.id\r\n    }));\r\n    return Object.assign({}, state, {currentUserAuthenticated: true, currentUserEmail: action.email, currentUserID: action.id, currentUserToken: action.token});\r\n\r\n  case actionTypes.LOGOUT:\r\n    localStorage.setItem(\"auth\", null);\r\n    history.push('/');\r\n    return Object.assign({}, state, {currentUserAuthenticated: false});\r\n\r\n  case actionTypes.SIGNIN_SIGN_UP_FAILED:\r\n    return Object.assign({}, state, {signInSignUpFailed: true});\r\n\r\n  case actionTypes.SIGNIN_SIGN_UP_FAILED_RESET:\r\n    return Object.assign({}, state, {signInSignUpFailed: false});\r\n\r\n  case actionTypes.SYNC_MONGODB_APPOINTMENTS:\r\n    if (action.appointments.length) {\r\n      let stateAppointments = state.appointments.slice();\r\n\r\n      stateAppointments = stateAppointments.map((stateApt) => {\r\n\r\n        let {appointmentTime} = stateApt;\r\n        let matchingAppointment = action.appointments.find((appt) => {\r\n          return appt.time === appointmentTime;\r\n        });\r\n        if (matchingAppointment) {\r\n          stateApt.appointmentName = matchingAppointment.appointmentName;\r\n          stateApt.appointmentPhoneNumber = matchingAppointment.appointmentPhoneNumber;\r\n          stateApt._id = matchingAppointment._id;\r\n        }\r\n        return stateApt;\r\n      });\r\n      return Object.assign({}, state, {appointmentsSynced: true, appointments: [...stateAppointments]});\r\n    }\r\n    return state;\r\n\r\n  default:\r\n    return state;\r\n  }\r\n};","import {createStore, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {appointmentReducer, initialState} from './reducers/appointmentReducer';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\n  \r\nexport default createStore(\r\n  appointmentReducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {Provider} from 'react-redux';\r\nimport store from './store';\r\nimport {Router} from 'react-router-dom';\r\nimport history from './history';\r\n\r\n\r\nReactDOM.render(\r\n  \r\n  <Provider store={store}>  \r\n    <Router history={history}>\r\n      <App />\r\n    </Router>\r\n  </Provider>\r\n  , document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}